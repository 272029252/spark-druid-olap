#+TITLE:    Benchmark Results
#+LANGUAGE:  en
#+INFOJS_OPT: view:showall toc:t ltoc:t mouse:underline path:http://orgmode.org/org-info.js
#+LINK_HOME: http://home.fnal.gov/~neilsen
#+LINK_UP: http://home.fnal.gov/~neilsen/notebook
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="http://orgmode.org/org-manual.css" />

#+LATEX_CLASS: article
#+LATEX_CLASS_OPTIONS: [pdftex,10pt,a4paper]

#+LaTeX_HEADER: \usepackage{sectsty}
#+LaTeX_HEADER: \usepackage{fancyvrb}

#+LaTeX_HEADER: \usepackage{hyperref}
#+LaTeX_HEADER: \usepackage{listings}
#+LaTeX_HEADER: \usepackage{xyling}
#+LaTeX_HEADER: \usepackage{ctable}

#+LaTeX_HEADER: \input xy
#+LaTeX_HEADER: \xyoption{all}

#+EXPORT_SELECT_TAGS: export
#+EXPORT_EXCLUDE_TAGS: noexport
#+OPTIONS: H:4 num:nil toc:nil \n:nil @:t ::t |:t ^:{} _:{} *:t TeX:t LaTeX:t
#+STARTUP: showall
#+OPTIONS: html-postamble:nil

* TPCHSlice BenchMark

** Running against raw event Dataset

*** Timing
#+begin_example

                                             Query Avg. Time Min. Time Max. Time
                                 Basic Aggregation  26890.000       7165     113328
                                   Ship Date Range  10530.000       8499      16380
SubQuery + nation,Type predicates + ShipDate Range   4544.000       3626       7625
                                           TPCH Q1   7993.000       7186      10483
         TPCH Q3 - extendePrice instead of revenue   6004.000       3727      11246
         TPCH Q5 - extendePrice instead of revenue   6614.000       5481       8979
                TPCH Q7 - price instead of revenue   5648.000       4524       7133
    TPCH Q8 - extendePrice instead of market share   3804.000       3211       4780
TPCH Q10 - extendePrice instead of revenue, no group by on acctBal  27150.000      23269      35494
#+end_example

*** Query Results
#+begin_example
Basic Aggregation
[A,F,1478160,5.653926919402009E10,1000.0,4997.955256535151,644914]
[R,F,1480195,5.6579322994170044E10,1000.0,4997.424184651347,645781]
[N,F,38767,1.4841356872899961E9,999.96,4990.055330564655,30750]
[N,O,2998603,1.1461753710263998E11,1000.0,4999.978290890792,768912]
Ship Date Range
[N,O,1599288]
SubQuery + nation,Type predicates + ShipDate Range
[FRANCE,16,687985.3700000001,933.5,5169.0,16]
[GERMANY,19,753095.0299999999,994.08,5400.421052631579,19]
TPCH Q1
[A,F,1478160,5.653926919402008E10,1000.0,4997.955256535151,644914]
[R,F,1480195,5.657932299417004E10,1000.0,4997.424184651347,645781]
[N,F,38767,1.4841356872899961E9,999.96,4990.055330564655,30750]
[N,O,2998603,1.1461753710263995E11,1000.0,4999.978290890792,768912]
TPCH Q3 - extendePrice instead of revenue
[33059171,432867.97000000003,1995-02-16T00:00:00.000Z,0]
[20524164,431359.91000000003,1995-03-04T00:00:00.000Z,0]
[1083941,415404.73,1995-02-21T00:00:00.000Z,0]
[16341859,409805.29,1995-02-25T00:00:00.000Z,0]
[31374434,409371.3,1995-02-17T00:00:00.000Z,0]
[34405031,402898.7,1995-03-09T00:00:00.000Z,0]
[56594855,400094.6,1995-03-13T00:00:00.000Z,0]
[2452422,394861.0,1995-02-22T00:00:00.000Z,0]
[32884775,391267.39,1995-02-18T00:00:00.000Z,0]
[26900320,390404.95999999996,1995-03-12T00:00:00.000Z,0]
TPCH Q5 - extendePrice instead of revenue
[INDIA,1.4134655952000005E9]
[JAPAN,1.4034246889200006E9]
[VIETNAM,1.3858049337799993E9]
[CHINA,1.3806778567499995E9]
[INDONESIA,1.3690848978599997E9]
TPCH Q7 - price instead of revenue
[FRANCE,GERMANY,1992,4.873365616E7]
[FRANCE,GERMANY,1993,5.3386908010000005E7]
[FRANCE,GERMANY,1994,5.6118161500000015E7]
[FRANCE,GERMANY,1995,5.6177264720000006E7]
[FRANCE,GERMANY,1996,5.411796232E7]
[FRANCE,GERMANY,1997,5.697326894E7]
[FRANCE,GERMANY,1998,4.195966787E7]
[GERMANY,FRANCE,1992,4.596645559E7]
[GERMANY,FRANCE,1993,5.7467286599999994E7]
[GERMANY,FRANCE,1994,5.9568380260000005E7]
[GERMANY,FRANCE,1995,5.574328572E7]
[GERMANY,FRANCE,1996,5.817071533000001E7]
[GERMANY,FRANCE,1997,5.685662362000001E7]
[GERMANY,FRANCE,1998,4.0363215349999994E7]
TPCH Q8 - extendePrice instead of market share
[1995,4.372841152E7]
[1996,4.717556235999999E7]
TPCH Q10 - extendePrice instead of revenue, no group by on acctBal (first 20 rows)
[Customer#001485241,UNITED KINGDOM,Fq07MLElZBC54DXzVq9YbP2WP,t,33-116-170-5647,al accounts cajole slyly. ironic, fina,698970.45]
[Customer#001486201,JORDAN,TJhgKueFwrrtXLtenhlw sC2N,23-611-797-4750,ag. deposits along the blithely express instructions w,698431.71]
[Customer#000663001,RUSSIA,18LlI2l6hGpiVkn,32-998-943-3573,ests nag above the accounts. careful, regular sentiments affix. furiously spec,690467.0]
[Customer#000361891,SAUDI ARABIA,wKPyClaA8FXzVmOE7OH68Cn ujxyP,30-105-377-1699,y unusual foxes against the deposits affix slyl,680883.32]
[Customer#000846871,CANADA,qBgCdbbiT0dPMHXaW3ejfzyDhJlf9I3UdrlvG,13-818-536-4472,r, blithe packages among the bold, ironic pla,677859.38]
[Customer#001477261,ETHIOPIA,Ug4Chh6HgFuFuH4kKuDX,y,15-477-193-2424,ticingly around the furiously unusual foxes. expre,666262.76]
[Customer#000996901,UNITED STATES,vspZ5Sp5c5 Z5vDpHIqYXj lNylKNYdf,Hn,34-278-198-3024,its. quickly regular packages sleep doggedly along t,650640.94]
[Customer#000109531,MOROCCO,ctw,V3Lg WsnSF,25-806-287-6640, frets. special packages sleep quickly carefully unusual accounts. carefully final accounts cajole carefully.,645585.34]
[Customer#000116371,MOROCCO,MnsTThR yJf3 VUGbdh2g7Ls,25-461-687-3461,courts nag quickly across the fluffily bold pinto beans. ideas among the furiously regu,645083.1599999999]
[Customer#000478261,JORDAN,nleur50a6uwrpHy5M1aUI6YlTJ3GxdvYr,23-344-728-8021, closely among the blithely even ideas. carefully regular re,639697.71]
[Customer#000822841,KENYA,YegKDa24ghUHejhD9GUgL6GNpToTlaKD8bTBZ,24-127-277-1726, the regular, ironic packages. silent Tiresias wake along the f,638734.97]
[Customer#000596851,ARGENTINA,a1DTx1D4ltckAM8,11-470-165-2441,es along the furiously even requests sleep carefully against the final, pending foxes. regular pinto ,637459.6]
[Customer#000225091,IRAN,ESxBAyRn8EwDJKlPkc,DvPHYFsa85MatFyUzscWY,20-157-662-6929,ic, regular ideas sleep. fluffily final accounts under the blithely ironic requests,628848.14]
[Customer#001080691,UNITED KINGDOM,TbiBgAVDMQhNHKZOb4qwZUN0tIYhTWGDwQTdym,33-375-446-6539,te blithely. carefully express theodolites cajole slyly slyly pending sentiments. blithely special ide,623031.18]
[Customer#001160881,RUSSIA,ACbaUek4MwaAm QpcQAtEN7PUjw3FBBElZIThrC,32-316-891-6777,odolites cajole regular sentiments-- ironic foxes nag express, regular deposits. furiously bold foxes in,614652.5800000001]
[Customer#000001711,MOROCCO,Mhg8c9IAFb8G,25-302-946-6337,gle carefully. final, even deposi,614484.8200000001]
[Customer#001474861,VIETNAM,6cg7FtblHmXnMIjqK11pT47Lsx2,31-595-929-5136,ideas sleep furiously special ,607778.94]
[Customer#001324291,IRAQ,wajEKFPCC6A8Maf450IkC,21-210-951-6699,le furiously blithely unusual excuses. fu,606138.05]
[Customer#000977191,GERMANY,o5XL tB NK8AGE95AuOwL0oz,17-184-695-3349,ully furiously unusual deposits. unusual dolphins sleep according to the even packages. slyly e,597378.05]
[Customer#000850441,ROMANIA,Bq7O5tRkwNHqA37,z1nZ2Ngrg,29-645-452-6044,ickly even theodolites. regular deposits about the care,596343.15]
#+end_example


** Running against Druid

*** Timing
#+begin_example
                                             Query Avg. Time Min. Time Max. Time
                                 Basic Aggregation   3138.000       2327       4142
                                   Ship Date Range    633.000        474        999
SubQuery + nation,Type predicates + ShipDate Range    284.000        151        828
                                           TPCH Q1   2222.000       2005       2429
         TPCH Q3 - extendePrice instead of revenue   2066.000        910       7176
         TPCH Q5 - extendePrice instead of revenue   4514.000       4129       5501
                TPCH Q7 - price instead of revenue    538.000        318       1282
    TPCH Q8 - extendePrice instead of market share   4922.000       4541       5424
TPCH Q10 - extendePrice instead of revenue, no group by on acctBal  13765.000      12808      17560
#+end_example

*** Query Results
#+begin_example
Basic Aggregation
[A,F,1478160,5.6539271168E10,1000.0,4997.955256535151,618896]
[N,F,38767,1.48413568E9,999.9600219726562,4990.055330564655,31436]
[N,O,2998581,1.14616795136E11,1000.0,4999.969491236021,754442]
[R,F,1480195,5.657932288E10,1000.0,4997.424184651347,642387]
Ship Date Range
[N,O,1599288]
SubQuery + nation,Type predicates + ShipDate Range
[FRANCE,16,687985.3671875,933.5,5169.0,16]
[GERMANY,19,753095.0,994.0800170898438,5400.421052631579,19]
TPCH Q1
[A,F,1478160,5.6539268096E10,1000.0,4997.955256535151,618896]
[N,F,38767,1.48413568E9,999.9600219726562,4990.055330564655,31436]
[N,O,2998581,1.14616793088E11,1000.0,4999.969491236021,754442]
[R,F,1480195,5.6579323904E10,1000.0,4997.424184651347,642387]
TPCH Q3 - extendePrice instead of revenue
[33059171,432867.9765625,1995-02-16T00:00:00.000Z,0]
[20524164,431359.8984375,1995-03-04T00:00:00.000Z,0]
[1083941,415404.73828125,1995-02-21T00:00:00.000Z,0]
[16341859,409805.3046875,1995-02-25T00:00:00.000Z,0]
[31374434,409371.296875,1995-02-17T00:00:00.000Z,0]
[34405031,402898.6953125,1995-03-09T00:00:00.000Z,0]
[56594855,400094.60546875,1995-03-13T00:00:00.000Z,0]
[2452422,394860.984375,1995-02-22T00:00:00.000Z,0]
[32884775,391267.39453125,1995-02-18T00:00:00.000Z,0]
[26900320,390404.97265625,1995-03-12T00:00:00.000Z,0]
TPCH Q5 - extendePrice instead of revenue
[INDIA,1.413465584E9]
[JAPAN,1.403424672E9]
[VIETNAM,1.385804928E9]
[CHINA,1.380677856E9]
[INDONESIA,1.369084912E9]
TPCH Q7 - price instead of revenue
[FRANCE,GERMANY,1992,4.87336565E7]
[FRANCE,GERMANY,1993,5.3386908E7]
[FRANCE,GERMANY,1994,5.6118162E7]
[FRANCE,GERMANY,1995,5.61772655E7]
[FRANCE,GERMANY,1996,5.4117962E7]
[FRANCE,GERMANY,1997,5.6973269E7]
[FRANCE,GERMANY,1998,4.1959668E7]
[GERMANY,FRANCE,1992,4.5966456E7]
[GERMANY,FRANCE,1993,5.7467286E7]
[GERMANY,FRANCE,1994,5.9568382E7]
[GERMANY,FRANCE,1995,5.5743286E7]
[GERMANY,FRANCE,1996,5.8170716E7]
[GERMANY,FRANCE,1997,5.6856623E7]
[GERMANY,FRANCE,1998,4.0363216E7]
TPCH Q8 - extendePrice instead of market share
[1995,4.3728411E7]
[1996,4.71755625E7]
TPCH Q10 - extendePrice instead of revenue, no group by on acctBal (first 20 rows)
[Customer#001485241,UNITED KINGDOM,Fq07MLElZBC54DXzVq9YbP2WP,t,33-116-170-5647,al accounts cajole slyly. ironic, fina,698970.4375]
[Customer#001486201,JORDAN,TJhgKueFwrrtXLtenhlw sC2N,23-611-797-4750,ag. deposits along the blithely express instructions w,698431.703125]
[Customer#000663001,RUSSIA,18LlI2l6hGpiVkn,32-998-943-3573,ests nag above the accounts. careful, regular sentiments affix. furiously spec,690467.0]
[Customer#000361891,SAUDI ARABIA,wKPyClaA8FXzVmOE7OH68Cn ujxyP,30-105-377-1699,y unusual foxes against the deposits affix slyl,680883.32421875]
[Customer#000846871,CANADA,qBgCdbbiT0dPMHXaW3ejfzyDhJlf9I3UdrlvG,13-818-536-4472,r, blithe packages among the bold, ironic pla,677859.375]
[Customer#001477261,ETHIOPIA,Ug4Chh6HgFuFuH4kKuDX,y,15-477-193-2424,ticingly around the furiously unusual foxes. expre,666262.7734375]
[Customer#000996901,UNITED STATES,vspZ5Sp5c5 Z5vDpHIqYXj lNylKNYdf,Hn,34-278-198-3024,its. quickly regular packages sleep doggedly along t,650640.9375]
[Customer#000109531,MOROCCO,ctw,V3Lg WsnSF,25-806-287-6640," frets. special packages sleep quickly carefully unusual accounts. carefully final accounts cajole carefully.",645585.349609375]
[Customer#000116371,MOROCCO,MnsTThR yJf3 VUGbdh2g7Ls,25-461-687-3461,courts nag quickly across the fluffily bold pinto beans. ideas among the furiously regu,645083.1875]
[Customer#000478261,JORDAN,nleur50a6uwrpHy5M1aUI6YlTJ3GxdvYr,23-344-728-8021," closely among the blithely even ideas. carefully regular re",639697.71875]
[Customer#000822841,KENYA,YegKDa24ghUHejhD9GUgL6GNpToTlaKD8bTBZ,24-127-277-1726," the regular, ironic packages. silent Tiresias wake along the f",638734.9375]
[Customer#000596851,ARGENTINA,a1DTx1D4ltckAM8,11-470-165-2441,"es along the furiously even requests sleep carefully against the final, pending foxes. regular pinto ",637459.576171875]
[Customer#000225091,IRAN,ESxBAyRn8EwDJKlPkc,DvPHYFsa85MatFyUzscWY,20-157-662-6929,ic, regular ideas sleep. fluffily final accounts under the blithely ironic requests,628848.1328125]
[Customer#001080691,UNITED KINGDOM,TbiBgAVDMQhNHKZOb4qwZUN0tIYhTWGDwQTdym,33-375-446-6539,te blithely. carefully express theodolites cajole slyly slyly pending sentiments. blithely special ide,623031.166015625]
[Customer#001160881,RUSSIA,ACbaUek4MwaAm QpcQAtEN7PUjw3FBBElZIThrC,32-316-891-6777,odolites cajole regular sentiments-- ironic foxes nag express, regular deposits. furiously bold foxes in,614652.5703125]
[Customer#000001711,MOROCCO,Mhg8c9IAFb8G,25-302-946-6337,gle carefully. final, even deposi,614484.82421875]
[Customer#001474861,VIETNAM,6cg7FtblHmXnMIjqK11pT47Lsx2,31-595-929-5136,"ideas sleep furiously special ",607778.9375]
[Customer#001324291,IRAQ,wajEKFPCC6A8Maf450IkC,21-210-951-6699,le furiously blithely unusual excuses. fu,606138.0625]
[Customer#000977191,GERMANY,o5XL tB NK8AGE95AuOwL0oz,17-184-695-3349,ully furiously unusual deposits. unusual dolphins sleep according to the even packages. slyly e,597378.06640625]
[Customer#000850441,ROMANIA,Bq7O5tRkwNHqA37,z1nZ2Ngrg,29-645-452-6044,ickly even theodolites. regular deposits about the care,596343.1484375]
#+end_example
